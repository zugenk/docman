<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC
      "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
          "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping package="com.app.docmgr.model">
	<class
		name="News"
		table="news" lazy="false"
		>
		
		<id name="id" type="java.lang.Long" column="ID">
			<generator class="sequence">
				<param name="sequence">news_id_seq</param>
            </generator>
		</id>
		<property
			name="title"
			column="title"
			type="string"
			not-null="true"
			length="100"
		/>

		<property
			name="brief"
			column="brief"
			type="text"
			not-null="false"
			length="1000"
		/>
		<many-to-one
			name="type"
			column="type"
			class="com.app.docmgr.model.Lookup"
			not-null="true"
		>
		</many-to-one>
		<many-to-one
			name="status"
			column="status"
			class="com.app.docmgr.model.Status"
			not-null="true"
		>
		</many-to-one>
		<property
			name="newsContent"
			column="news_content"
			type="string"
			not-null="false"
			length="4000"
		/>
		<property
			name="iconPath"
			column="icon_path"
			type="string"
			not-null="false"
			length="100"
		/>
		<property
			name="urlLink"
			column="url_link"
			type="string"
			not-null="false"
			length="200"
		/>
		
		<property
			name="startDate"
			column="start_date"
			type="java.util.Date"
			not-null="true"
		/>
		<property
			name="endDate"
			column="end_date"
			type="java.util.Date"
			not-null="false"
		/>
		<property
			name="emailBroadcast"
			column="email_broadcast"
			type="string"
			not-null="false"
			length="10"
		/>

		<property
			name="createdDate"
			column="created_date"
			type="java.util.Date"
			not-null="true"
		/>
		<property
			name="createdBy"
			column="created_by"
			type="string"
			not-null="true"
			length="20"
		/>
		<property
			name="lastUpdatedDate"
			column="last_updated_date"
			type="java.util.Date"
			not-null="false"
		/>
		<property
			name="lastUpdatedBy"
			column="last_updated_by"
			type="string"
			not-null="false"
			length="20"
		/>
		
		<set
			name="targetAudience"
			table="news_audience_privilege"
			cascade="all-delete-orphan"
		>
			<key column="news_id"/>
			<many-to-many column="privilege_id" class="com.app.docmgr.model.Privilege"/>
		</set>
	</class>	
</hibernate-mapping>